<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buscador Inteligente Animado</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Google Fonts: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    /* Usamos la fuente Inter y a√±adimos algunas transiciones suaves */
    body {
      font-family: 'Inter', sans-serif;
      background-color: #111827; /* bg-gray-900 */
    }
    .transition-all {
      transition: all 0.3s ease-in-out;
    }
    /* Estilo para el scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #1f2937; /* bg-gray-800 */
    }
    ::-webkit-scrollbar-thumb {
      background: #14b8a6; /* teal-500 */
      border-radius: 10px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #0d9488; /* teal-600 */
    }

    /* Clases para animaci√≥n de entrada */
    .fade-in-up {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.6s ease-out forwards;
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Animaci√≥n para los botones */
    .button-pop-in {
        opacity: 0;
        transform: scale(0.95);
        animation: popIn 0.4s ease-out forwards;
    }

    @keyframes popIn {
        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    /* Animaci√≥n para el <details> */
    details[open] summary ~ * {
        animation: fadeIn 0.4s ease-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="text-gray-200 flex flex-col items-center min-h-screen p-4 selection:bg-teal-500 selection:text-white">

  <!-- Contenedor Principal -->
  <div class="w-full max-w-2xl mx-auto">
    <header class="text-center mb-8 fade-in-up" style="animation-delay: 100ms;">
      <h1 class="text-4xl sm:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-500 mb-2">Buscador Inteligente</h1>
      <p class="text-gray-400">Selecciona una categor√≠a y un motor para iniciar tu b√∫squeda.</p>
    </header>

    <!-- Caja de B√∫squeda -->
    <main class="bg-gray-800/50 backdrop-blur-sm rounded-2xl shadow-2xl shadow-black/20 p-6 flex flex-col gap-5 fade-in-up" style="animation-delay: 200ms;">
      
      <!-- Input de B√∫squeda -->
      <div class="relative flex items-center">
        <label for="query" class="sr-only">Buscar:</label>
        <svg class="absolute left-4 w-5 h-5 text-gray-400 pointer-events-none" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
        </svg>
        <input id="query" type="text" placeholder="Escribe tu b√∫squeda aqu√≠..." autocomplete="off" autofocus
          class="w-full px-4 py-3 pl-12 pr-10 rounded-lg bg-gray-900 text-gray-100 border-2 border-gray-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all">
        <button id="clear-query" class="absolute right-3 text-gray-500 hover:text-white transition-colors" aria-label="Limpiar b√∫squeda" style="display: none;">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- Selector de Categor√≠a -->
      <div>
        <label for="category" class="text-gray-400 text-sm font-medium mb-2 block">Categor√≠a</label>
        <select id="category" aria-label="Seleccionar categor√≠a"
          class="w-full px-4 py-3 rounded-lg bg-gray-900 text-gray-100 border-2 border-gray-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all">
          <option value="web">üåê Web</option>
          <option value="news">üì∞ Noticias</option>
          <option value="images">üñºÔ∏è Im√°genes</option>
          <option value="videos">üé¨ Videos</option>
          <option value="jobs">üíº Empleos</option>
          <option value="shopping">üõí Compras</option>
          <option value="maps">üó∫Ô∏è Mapas</option>
        </select>
      </div>

      <!-- Contenedor de Botones de B√∫squeda -->
      <div id="buttons-container" class="border-t border-gray-700 pt-5 min-h-[80px]">
        <p id="buttons-placeholder" class="text-center text-gray-500 transition-opacity duration-300">Escribe algo para ver los motores de b√∫squeda.</p>
        <div id="buttons" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"></div>
      </div>

      <!-- Operadores Avanzados -->
      <details class="text-sm text-gray-400 mt-2">
        <summary class="cursor-pointer text-teal-400 hover:text-teal-300 transition-colors">Ayuda: Operadores de b√∫squeda</summary>
        <div class="bg-gray-900/50 p-4 mt-2 rounded-md border border-gray-700">
            <ul class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-xs">
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">"frase exacta"</code> ‚Äì Frase exacta</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">-palabra</code> ‚Äì Excluye una palabra</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">palabra1 AND palabra2</code> ‚Äì Ambas palabras</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">palabra1 OR palabra2</code> ‚Äì Una u otra palabra</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">site:dominio.com</code> ‚Äì Dominio espec√≠fico</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">filetype:pdf</code> ‚Äì Tipo de archivo</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">ext:pdf</code> ‚Äì Extensi√≥n de archivo</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">intitle:palabra</code> ‚Äì Palabra en el t√≠tulo</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">allintitle:palabras</code> ‚Äì Todas en el t√≠tulo</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">inurl:palabra</code> ‚Äì Palabra en la URL</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">allinurl:palabras</code> ‚Äì Todas en la URL</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">intext:palabra</code> ‚Äì Palabra en el texto</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">allintext:palabras</code> ‚Äì Todas en el texto</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">related:URL</code> ‚Äì Sitios relacionados</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">cache:URL</code> ‚Äì Versi√≥n en cach√©</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">define:palabra</code> ‚Äì Definici√≥n</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">location:pa√≠s</code> ‚Äì Geolocalizaci√≥n</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">before:AAAA-MM-DD</code> ‚Äì Antes de fecha</li>
                <li><code class="text-teal-300 bg-gray-700 px-1.5 py-0.5 rounded">after:AAAA-MM-DD</code> ‚Äì Despu√©s de fecha</li>
            </ul>
        </div>
      </details>
    </main>
  </div>

  <script>
    (function() {
      // --- CONFIGURACI√ìN DE MOTORES DE B√öSQUEDA ---
      const engines = {
        web: { Google: q => `https://www.google.com/search?q=${q}`, Bing: q => `https://www.bing.com/search?q=${q}`, DuckDuckGo: q => `https://duckduckgo.com/?q=${q}`, Brave: q => `https://search.brave.com/search?q=${q}`, Ecosia: q => `https://www.ecosia.org/search?q=${q}`, Startpage: q => `https://www.startpage.com/search?q=${q}`, Qwant: q => `https://www.qwant.com/?q=${q}`, Swisscows: q => `https://swisscows.com/web?query=${q}`, },
        news: { 'Google News': q => `https://news.google.com/search?q=${q}`, Clar√≠n: q => `https://www.clarin.com/buscar/${q}`, 'La Naci√≥n': q => `https://www.lanacion.com.ar/buscador/?query=${q}`, Infobae: q => `https://www.infobae.com/buscador/?s=${q}`, 'P√°gina 12': q => `https://www.pagina12.com.ar/buscar?q=${q}`, TN: q => `https://tn.com.ar/buscar/?q=${q}`, '√Åmbito': q => `https://www.ambito.com/buscar/?q=${q}`, 'El Cronista': q => `https://www.cronista.com/search/?q=${q}`, },
        images: { 'Google': q => `https://www.google.com/search?q=${q}&tbm=isch`, 'Bing': q => `https://www.bing.com/images/search?q=${q}`, Unsplash: q => `https://unsplash.com/s/photos/${q}`, Pexels: q => `https://www.pexels.com/search/${q}`, Pixabay: q => `https://pixabay.com/images/search/${q}`, 'Yandex': q => `https://yandex.com/images/search?text=${q}` },
        videos: { YouTube: q => `https://www.youtube.com/results?search_query=${q}`, Vimeo: q => `https://vimeo.com/search?q=${q}`, Dailymotion: q => `https://www.dailymotion.com/search/${q}`, TikTok: q => `https://www.tiktok.com/search?q=${q}`, Twitch: q => `https://www.twitch.tv/search?term=${q}`, },
        jobs: { LinkedIn: q => `https://www.linkedin.com/jobs/search?keywords=${q}`, Indeed: q => `https://ar.indeed.com/jobs?q=${q}`, 'Zona Jobs': q => `https://www.zonajobs.com.ar/empleos-busqueda-${q}.html`, Bumeran: q => `https://www.bumeran.com.ar/empleos-busqueda-${q}.html`, Computrabajo: q => `https://www.computrabajo.com.ar/ofertas-de-trabajo/?q=${q}`, Glassdoor: q => `https://www.glassdoor.com.ar/Empleo/empleos-${q}.htm`, },
        shopping: { 'Mercado Libre': q => `https://listado.mercadolibre.com.ar/${q}`, Amazon: q => `https://www.amazon.com/s?k=${q}`, eBay: q => `https://www.ebay.com/sch/i.html?_nkw=${q}`, AliExpress: q => `https://es.aliexpress.com/wholesale?SearchText=${q}`, 'Google': q => `https://www.google.com/search?q=${q}&tbm=shop`, },
        maps: { 'Google Maps': q => `https://www.google.com/maps/search/${q}`, 'Apple Maps': q => `https://maps.apple.com/?q=${q}`, 'Bing Maps': q => `https://www.bing.com/maps?q=${q}`, OpenStreetMap: q => `https://www.openstreetmap.org/search?query=${q}`, Waze: q => `https://www.waze.com/ul?q=${q}`, }
      };

      // --- REFERENCIAS A ELEMENTOS DEL DOM ---
      const queryInput = document.getElementById('query');
      const categorySelect = document.getElementById('category');
      const buttonsContainer = document.getElementById('buttons');
      const buttonsPlaceholder = document.getElementById('buttons-placeholder');
      const clearQueryBtn = document.getElementById('clear-query');

      /**
       * Renderiza los botones de b√∫squeda basados en la categor√≠a y el t√©rmino de b√∫squeda actuales.
       */
      function renderButtons() {
        const query = queryInput.value.trim();
        const category = categorySelect.value;
        const currentEngines = engines[category] || {};

        buttonsContainer.innerHTML = '';
        clearQueryBtn.style.display = query ? 'block' : 'none';

        if (!query) {
          buttonsPlaceholder.classList.remove('opacity-0');
          return;
        }
        
        buttonsPlaceholder.classList.add('opacity-0');
        
        Object.entries(currentEngines).forEach(([name, urlFunction], index) => {
          const btn = document.createElement('button');
          btn.textContent = name;
          btn.className = 'bg-gray-700/50 text-gray-200 border border-gray-600 rounded-lg p-3 hover:bg-teal-500 hover:text-white hover:border-teal-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-teal-500 transition-all text-sm font-medium transform active:scale-95 button-pop-in';
          // Aplicamos un retraso escalonado a la animaci√≥n
          btn.style.animationDelay = `${index * 50}ms`;
          
          btn.onclick = () => {
            const searchTerm = encodeURIComponent(query);
            const url = urlFunction(searchTerm);
            localStorage.setItem('lastSearchQuery', query);
            window.open(url, '_blank');
          };
          buttonsContainer.appendChild(btn);
        });
      }

      /**
       * Carga la √∫ltima b√∫squeda y categor√≠a desde localStorage.
       */
      function loadLastState() {
        queryInput.value = localStorage.getItem('lastSearchQuery') || '';
        categorySelect.value = localStorage.getItem('lastSearchCategory') || 'web';
      }

      /**
       * Limpia el campo de b√∫squeda y actualiza la UI.
       */
      function clearQuery() {
          queryInput.value = '';
          queryInput.focus();
          renderButtons();
      }

      /**
       * Inicializa los event listeners.
       */
      function init() {
        loadLastState();
        renderButtons();

        queryInput.addEventListener('input', renderButtons);
        clearQueryBtn.addEventListener('click', clearQuery);
        categorySelect.addEventListener('change', () => {
          localStorage.setItem('lastSearchCategory', categorySelect.value);
          renderButtons();
        });
      }

      document.addEventListener('DOMContentLoaded', init);
    })();
  </script>
</body>
</html>
